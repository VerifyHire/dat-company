image:
  # Use a base Gitpod image that includes common development tools
  use: gitpod/workspace-full

tasks:
  - init: |
      # Install Go and MongoDB
      sudo apt-get update && sudo apt-get install -y golang mongodb

      # Start MongoDB service
      sudo service mongod start

      # Install Go dependencies
      go mod tidy

  - command: |
      # Start the Go application
      go run main.go

ports:
  - port: 8080
    onOpen: open-preview

vscode:
  extensions:
    - ms-go.vscode-go